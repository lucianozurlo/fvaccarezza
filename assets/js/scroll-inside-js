document.addEventListener("DOMContentLoaded", function () {
  const headerOffset = 10; // ajustá según la altura de tu header

  document.querySelectorAll('a[href^="#"]').forEach(function (link) {
    link.addEventListener("click", function (e) {
      const targetId = this.getAttribute("href");

      // Ignorar links que son solo "#"
      if (!targetId || targetId === "#") return;

      const target = document.querySelector(targetId);
      if (!target) return;

      e.preventDefault(); // evitamos el salto instantáneo

      // POR LAS DUDAS: reactivamos el scroll del body
      document.body.style.overflow = "";
      document.documentElement.style.overflow = "";
      document.body.classList.remove(
        "no-scroll",
        "menu-open",
        "overflow-hidden"
      );

      const rect = target.getBoundingClientRect();
      const scrollTop =
        window.pageYOffset || document.documentElement.scrollTop;
      const targetY = rect.top + scrollTop - headerOffset;

      window.scrollTo({
        top: targetY,
        behavior: "smooth",
      });
    });
  });
});
